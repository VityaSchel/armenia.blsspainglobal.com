# Автоматическая проверка статуса заявки на испанскую визу на armenia.blsspainglobal.com

- Автоматическое решение капчи с помощью стороннего платного сервиса
- Парсинг статуса из HTML
- Отсылка уведомлений в Telegram бот

# Использование

## Селфхостед телеграм-бот

Чтобы установить этого бота, вам понадобятся базовые навыки работы с терминалом и примерно 50-100 рублей для оплаты автоматического решения капч. Автору ни копейки в карман не идет, это все деньги для работников, которые в реальном времени решают капчи.

1. Скачайте репозиторий [https://github.com/VityaSchel/armenia.blsspainglobal.com/archive/refs/heads/main.zip]
2. Создайте бота в [@botfather](https://t.me/botfather)
3. Скопируйте токен бота
4. Сделайте копию файла .env.example и переименуйте в .env
5. В файле следуйте инструкциям. Вставьте токен, ID вашего аккаунта телеграм, номера заявок для отслеживания и даты рождения. Вставьте токен для автоматического решения капч с сайта [Rucaptcha](https://rucaptcha.com/enterpage)
6. Установите [bun.sh](https://bun.sh) — это рантайм-среда для серверного JavaScript
7. Перейдите в папку со скачанным распакованным репозиторием и выполните команду `bun install` в терминале
8. Запускать скрипт можно с помощью `bun telegram-notifications-bot`

Каждый раз когда вы будете запускать программу, она автоматически будет получать статус заявки (заявок) и отправлять вам в телеграм бота. Идея в том, чтобы запускать скрипт автоматически 1 раз в сутки. Это можно сделать, например, с помощью cron:
- Выполните команду `which bun`
- Выполните команду `crontab -e`
- Вставьте `0 0 * * * [результат команды which bun] [путь к распакованному репозиторию]/src/bot-callback.ts`

# Лицензия

[MIT](./LICENSE.md)